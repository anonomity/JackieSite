---
path: "/unity-state-machines"
date: "29-10-2021"
title: "Unity State Machines"
category: "GameDev"
tags: []
exerpt: "Unity"
status: "ðŸŒ±"
---

I've been unexcusably hesitant to try out Unity State Machines. I finally threw in the towel
and got cracking on it when I was programming the AI for an enemy in my game.

The first thing I realized was that you create State Machine Scripts differently from normal scripts
in unity. In order to create State Machine (SM) script, you must open the animator tab, and click on 
an animation, and in the inspector window click [Add Behavior] one you open up the created script
you'll realize that the script no longer inherits from MonoBehavior but from StateMachineBehaviour. 
Another feature is this has a bunch of methods that are commented out. OnStateEnter(), 
OnStateUpdate(), OnStateExit(), OnStateMove() and OnStateIK().
For now the first 3 are the most important and are pretty self explanatory. 
The first [OneStateEnter] is called once the animation state is entered, the second [OnStateUpdate] is a loop that is 
called at each Update frame except for the first and last frame. Finally [OnStateExit] is called on the last update frame when a state machine evaluate this state.

I don't know about you but I've used way too many Corutines and unnecessary code controlling when the state changes, and when to change using methods like,
animator.GetBool("state") or animator.SetBool("state", false) peppered throughout my code. Its nice to have a central place that controls the animation state just
to clean up and compartmentalize things. 

Another neat thing about state machines is that in the function it already supplys you with that gameobjects animator so you don't need to fetch it in a variable. 
